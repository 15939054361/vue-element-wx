(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b70fd45"],{5892:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("创建管理员")])]),r("el-form",{ref:"ruleForm",attrs:{rules:e.rules,"label-width":"80px",model:e.formLabelAlign},nativeOn:{submit:function(t){return t.preventDefault(),e.submit("ruleForm")}}},[r("el-form-item",{attrs:{label:"账号",prop:"user"}},[r("el-input",{model:{value:e.formLabelAlign.user,callback:function(t){e.$set(e.formLabelAlign,"user",t)},expression:"formLabelAlign.user"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"passWord"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.formLabelAlign.passWord,callback:function(t){e.$set(e.formLabelAlign,"passWord",t)},expression:"formLabelAlign.passWord"}})],1),r("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("el-collapse-item",{attrs:{title:"权限配置",name:"0"}},[r("el-tree",{ref:"tree",attrs:{id:"tree",data:e.trees,"node-key":"id",props:e.defaultProps,"show-checkbox":!0},on:{"check-change":e.treeChange}}),r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"mini"},on:{click:e.getCheckedNodes}},[e._v("保存")])],1)],1),r("el-form-item",{attrs:{"label-width":"40px"}},[r("el-button",{staticStyle:{"margin-top":"20px",float:"left"},attrs:{size:"mini",type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-card",{attrs:{header:"数据展示"}},[r("el-tree",{ref:"tree-2",attrs:{data:e.checkRoute,props:e.defaultProps}})],1)],1)],1)],1)},n=[],s=(r("4de4"),r("4160"),r("159b"),r("96cf"),r("1da1")),i=r("9f7b"),l=r("a18c"),o=JSON.stringify(l["c"]);console.log(JSON.parse(o));var c=[],u={name:"",components:{},props:{},data:function(){return{formLabelAlign:{user:"",passWord:""},activeNames:["1"],trees:[],defaultProps:{children:"children",label:"label",id:"path",isLeaf:"leaf"},saveTrees:[],parentNode:"",checkRoute:[],permissionRoutes:l["c"],rules:{user:[{required:!0,message:"请输入账号",trigger:"blur"}],passWord:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},computed:{},watch:{},created:function(){c=this.trees=this.generateRouter(l["c"])},mounted:function(){},methods:{handleClick:function(e,t){console.log(e,t)},handleChange:function(){},generateRouter:function(e){var t=this,r=[];return e.forEach((function(e){if(e.label){var a={id:e.id,label:e.label||"",path:e.path||""};e.children&&(a.children=t.generateRouter(e.children)),r.push(a)}})),r},getCheckedNodes:function(){if(this.parentNode){var e=this.parentNode.childNodes;0===this.parentNode.childNodes.filter((function(e){return!1===e.checked})).length?this.checkRoute=this.trees:this.checkRoute=this.generateCheckRouter(e)}},treeChange:function(e,t,r){var a=this.$refs.tree.getNode(e.id);this.getParent(a)},loadNode:function(e,t){if(0===e.level){var r=[];return this.trees.forEach((function(e){r.push({label:e.label,path:e.path})})),t(r)}if(1===e.level&&(c=this.trees),Array.isArray(c)){c.forEach((function(e){!!e.children}));var a=c.filter((function(t){return t.label===e.data.label}));a[0].children?(c=a[0].children,t(a[0].children)):t([])}else!1},getParent:function(e){if(e.parent)return this.getParent(e.parent);this.parentNode=e},generateCheckRouter:function(e){var t=this,r=[];return e.forEach((function(e,a){if(e.checked||t.getBoolean(e.childNodes)){var n={id:e.data.id,label:e.data.label||"",path:e.data.path||""};e.childNodes.length>0&&(n.children=t.generateCheckRouter(e.childNodes)),r.push(n)}})),r},getBoolean:function(e){for(var t=!1,r=0;r<e.length;r++){var a=e[r];if(a.checked)return!0;a.childNodes.length>0&&(t=this.getBoolean(a.childNodes))}return t},submit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$refs[e].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=14;break}return t.formLabelAlign.routes=t.checkRoute,e.prev=2,e.next=5,Object(i["b"])(t.formLabelAlign);case 5:a=e.sent,200===a.status&&t.$message.success("注册成功"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:e.next=16;break;case 14:return console.log("error submit!!"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()}}},d=u,h=r("2877"),f=Object(h["a"])(d,a,n,!1,null,"ecbf9d22",null);t["default"]=f.exports},"9f7b":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s}));var a=r("b775");function n(e){return Object(a["a"])({url:"/admin/user/add",method:"POST",data:e})}function s(e){return Object(a["a"])({url:"/admin/user/inquire",method:"GET",data:e})}}}]);